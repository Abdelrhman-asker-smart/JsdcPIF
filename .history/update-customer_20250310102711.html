<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Activities Table with Pagination</title>
  <script src="https://cdn.tailwindcss.com"></script>
</head>
<body class="bg-gray-100">
  <div class="container mx-auto p-4">
    <!-- Activities Table -->
    <div class="overflow-x-auto bg-white rounded shadow">
      <table id="activity-table" class="min-w-full">
        <thead class="bg-blue-100">
          <tr>
            <th class="p-2">ID</th>
            <th class="p-2">Email</th>
            <th class="p-2">Notes</th>
            <th class="p-2">Date</th>
          </tr>
        </thead>
        <tbody id="activity-table-body">
          <!-- Table rows will be injected by JavaScript -->
        </tbody>
      </table>
    </div>

    <!-- Pagination Controls -->
    <div class="flex items-center justify-end mt-4">
      <button id="activity-prevPage"
        class="h-[24px] p-[4px] w-[24px] rounded-[3px_0px_0px_3px] text-gray-400 bg-gray-200 cursor-not-allowed"
        disabled>
        <img src="./assets/images/icons8-arrow-50 (1).png" class="w-full h-full" width="100%" height="100%" alt="prev" />
      </button>
      <span id="activity-pageIndicator" class="mx-2 text-[#4E4E4E] font-bold">
        Page 1
      </span>
      <button id="activity-nextPage"
        class="h-[24px] w-[24px] p-[4px] mx-auto inline-block rounded-[0px_3px_3px_0px] text-white bg-[#559BD0] cursor-pointer">
        <img src="./assets/images/icons8-arrow-50 (1).png" style="rotate: 180deg;" class="w-full h-full" width="100%" height="100%" alt="next" />
      </button>
    </div>

    <!-- Bottom Navigation -->
    <div class="flex justify-between items-center mb-[50px] mt-4">
      <div class="flex items-center gap-6 justify-center flex-grow flex-wrap">
        <p id="activity-resultsText"
          class="flex-grow max-w-[194px] w-full text-center bg-white text-[#4E4E4E] font-bold rounded-[12px] h-[60px] flex items-center justify-center"
          style="box-shadow: 0px 12px 20px 0px #00000014">
          showing 1 result
        </p>
        <div class="flex-grow max-w-[194px] w-full text-center relative">
          <button id="activity-perPageButton"
            class="bg-white text-[#4E4E4E] rounded-[12px] h-[60px] w-full flex items-center justify-center"
            style="box-shadow: 0px 12px 20px 0px #00000014">
            per page
            <strong id="activity-perPageValue" class="text-[#050504] mx-2">10</strong>
          </button>
          <div id="activity-perPageDropdown"
            class="hidden absolute mt-3 left-0 top-full w-full bg-white border rounded-[12px] shadow-md z-10">
            <div class="option py-2 cursor-pointer text-black" data-value="10">10</div>
            <div class="option py-2 cursor-pointer text-black" data-value="5">5</div>
            <div class="option py-2 cursor-pointer text-black" data-value="20">20</div>
          </div>
        </div>
      </div>
    </div>
  </div>

  <script>
    // Sample activities data
    let activities = [
      { id: 1, email: "oli@example.com", notes: "Important client", date: "2025-03-10" },
      { id: 2, email: "mary@example.com", notes: "Follow up", date: "2025-03-12" },
      // Additional sample data for pagination demo:
      { id: 3, email: "john@example.com", notes: "Call back", date: "2025-03-13" },
      { id: 4, email: "jane@example.com", notes: "Meeting scheduled", date: "2025-03-14" },
      { id: 5, email: "alice@example.com", notes: "New lead", date: "2025-03-15" },
      { id: 6, email: "bob@example.com", notes: "Interested", date: "2025-03-16" },
      { id: 7, email: "eve@example.com", notes: "Not interested", date: "2025-03-17" },
      { id: 8, email: "tom@example.com", notes: "Follow up needed", date: "2025-03-18" },
      { id: 9, email: "lucy@example.com", notes: "Sent proposal", date: "2025-03-19" },
      { id: 10, email: "mark@example.com", notes: "Waiting response", date: "2025-03-20" },
      { id: 11, email: "nancy@example.com", notes: "Interested", date: "2025-03-21" }
    ];

    // Pagination variables
    let currentPage = 0;
    let rowsPerPage = 10;

    // Element references
    const tableBody = document.getElementById("activity-table-body");
    const prevButton = document.getElementById("activity-prevPage");
    const nextButton = document.getElementById("activity-nextPage");
    const pageIndicator = document.getElementById("activity-pageIndicator");
    const resultsText = document.getElementById("activity-resultsText");
    const perPageButton = document.getElementById("activity-perPageButton");
    const perPageValue = document.getElementById("activity-perPageValue");
    const perPageDropdown = document.getElementById("activity-perPageDropdown");

    // Render table rows based on current pagination
    function renderTable() {
      tableBody.innerHTML = "";
      const startIndex = currentPage * rowsPerPage;
      const endIndex = Math.min(startIndex + rowsPerPage, activities.length);
      const pageData = activities.slice(startIndex, endIndex);

      pageData.forEach(activity => {
        const row = document.createElement("tr");
        row.className = "border-b hover:bg-gray-50";

        // ID cell
        const idCell = document.createElement("td");
        idCell.className = "p-2";
        idCell.textContent = activity.id;
        row.appendChild(idCell);

        // Email cell
        const emailCell = document.createElement("td");
        emailCell.className = "p-2";
        emailCell.textContent = activity.email;
        row.appendChild(emailCell);

        // Notes cell
        const notesCell = document.createElement("td");
        notesCell.className = "p-2";
        notesCell.textContent = activity.notes;
        row.appendChild(notesCell);

        // Date cell
        const dateCell = document.createElement("td");
        dateCell.className = "p-2";
        dateCell.textContent = activity.date;
        row.appendChild(dateCell);

        tableBody.appendChild(row);
      });
      updatePagination();
      updateResultsText();
    }

    // Update pagination controls
    function updatePagination() {
      const totalPages = Math.ceil(activities.length / rowsPerPage);
      pageIndicator.textContent = `Page ${currentPage + 1} of ${totalPages}`;

      prevButton.disabled = currentPage === 0;
      nextButton.disabled = currentPage >= totalPages - 1;

      prevButton.className = currentPage === 0 ?
        "h-[24px] p-[4px] w-[24px] rounded-[3px_0px_0px_3px] text-gray-400 bg-gray-200 cursor-not-allowed" :
        "h-[24px] p-[4px] w-[24px] rounded-[3px_0px_0px_3px] text-white bg-[#559BD0] cursor-pointer";

      nextButton.className = nextButton.disabled ?
        "h-[24px] w-[24px] p-[4px] mx-auto inline-block rounded-[0px_3px_3px_0px] text-gray-400 bg-gray-200 cursor-not-allowed" :
        "h-[24px] w-[24px] p-[4px] mx-auto inline-block rounded-[0px_3px_3px_0px] text-white bg-[#559BD0] cursor-pointer";
    }

    // Update results text
    function updateResultsText() {
      const startResult = currentPage * rowsPerPage + 1;
      const endResult = Math.min((currentPage + 1) * rowsPerPage, activities.length);
      resultsText.textContent = `showing ${startResult} to ${endResult} of ${activities.length} results`;
    }

    // Pagination button events
    prevButton.addEventListener("click", () => {
      if (currentPage > 0) {
        currentPage--;
        renderTable();
      }
    });
    nextButton.addEventListener("click", () => {
      if ((currentPage + 1) * rowsPerPage < activities.length) {
        currentPage++;
        renderTable();
      }
    });

    // Per page dropdown functionality
    perPageButton.addEventListener("click", () => {
      perPageDropdown.classList.toggle("hidden");
    });
    perPageDropdown.querySelectorAll(".option").forEach(option => {
      option.addEventListener("click", function() {
        rowsPerPage = parseInt(this.getAttribute("data-value"));
        perPageValue.textContent = rowsPerPage;
        currentPage = 0;
        renderTable();
        perPageDropdown.classList.add("hidden");
      });
    });

    // Initial render
    renderTable();
  </script>
</body>
</html>
